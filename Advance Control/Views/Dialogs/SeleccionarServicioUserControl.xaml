<?xml version="1.0" encoding="utf-8" ?>
<UserControl
    x:Class="Advance_Control.Views.Dialogs.SeleccionarServicioUserControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    MinWidth="500"
    mc:Ignorable="d">

    <Grid>
        <StackPanel Orientation="Vertical">
            <StackPanel
                Grid.Row="0"
                Margin="0,0,0,12"
                Spacing="8">
                <TextBox
                    x:Name="ConceptoTextBox"
                    PlaceholderText="Buscar por concepto..."
                    TextChanged="SearchTextBox_TextChanged" />
                <TextBox
                    x:Name="DescripcionTextBox"
                    PlaceholderText="Buscar por descripción..."
                    TextChanged="SearchTextBox_TextChanged" />
            </StackPanel>

            <!--  Loading indicator  -->
            <ProgressRing
                x:Name="LoadingRing"
                Visibility="Collapsed"
                Grid.Row="1"
                Width="50"
                Height="50"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                IsActive="False" />

            <!--  Lista de servicios  -->
            <ListView
                x:Name="ServiciosListView"
                SelectionChanged="ServiciosListView_SelectionChanged"
                SelectionMode="Single">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!--  ID Badge  -->
                            <Border
                                Grid.Row="0"
                                Grid.RowSpan="3"
                                Grid.Column="0"
                                Margin="0,0,12,0"
                                Padding="8,4"
                                VerticalAlignment="Center"
                                Background="{ThemeResource AccentFillColorDefaultBrush}"
                                CornerRadius="4">
                                <TextBlock
                                    FontSize="12"
                                    FontWeight="SemiBold"
                                    Foreground="White"
                                    Text="{Binding IdServicio}" />
                            </Border>

                            <!--  Concepto  -->
                            <TextBlock
                                Grid.Row="0"
                                Grid.Column="1"
                                FontSize="14"
                                FontWeight="SemiBold"
                                Text="{Binding Concepto}"
                                TextTrimming="CharacterEllipsis" />

                            <!--  Descripción  -->
                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="1"
                                FontSize="12"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                Text="{Binding Descripcion}"
                                TextTrimming="CharacterEllipsis" />

                            <!--  Costo  -->
                            <TextBlock
                                Grid.Row="2"
                                Grid.Column="1"
                                FontSize="12"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}">
                                <Run Text="Costo: $" />
                                <Run Text="{Binding Costo}" />
                            </TextBlock>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!--  Proveedores button and grid  -->
            <StackPanel
                x:Name="ProveedoresPanel"
                Margin="0,12,0,0"
                Visibility="Collapsed">
                <Button
                    x:Name="ProveedoresButton"
                    Margin="0,0,0,8"
                    HorizontalAlignment="Stretch"
                    Click="ProveedoresButton_Click"
                    Content="Proveedores" />
                <Border
                    x:Name="ProveedoresGrid"
                    MinHeight="100"
                    Padding="12"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="4"
                    Visibility="Collapsed">
                    <TextBlock
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                        Text="Lista de proveedores" />
                </Border>
            </StackPanel>
        </StackPanel>

        <!--  Search filters  -->

    </Grid>
</UserControl>
