<?xml version="1.0" encoding="utf-8" ?>
<UserControl
    x:Class="Advance_Control.Views.Dialogs.AgregarCargoUserControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="using:Advance_Control.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:equipos="using:Advance_Control.Views.Dialogs"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    MinWidth="500"
    MinHeight="600"
    mc:Ignorable="d">

    <UserControl.Resources>
        <converters:CargoTypeToVisibilityConverter x:Key="CargoTypeToVisibilityConverter" />
    </UserControl.Resources>

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto" VerticalScrollMode="Auto">
            <StackPanel>
                <Grid
                    x:Name="TipoCargoSelector"
                    Padding="0"
                    Background="Transparent">
                    <!--  ID Tipo Cargo  -->
                    <StackPanel Grid.Row="1" Margin="0,0,0,12">
                        <TextBlock
                            Margin="0,0,0,4"
                            FontWeight="SemiBold"
                            Text="Seleccionar cargo:" />
                        <ComboBox
                            x:Name="TipoCargoComboBox"
                            HorizontalAlignment="Stretch"
                            AutomationProperties.Name="Tipo de cargo"
                            SelectionChanged="TipoCargoComboBox_SelectionChanged">
                            <ComboBoxItem Content="Refacción" Tag="1" />
                            <ComboBoxItem Content="Servicio" Tag="2" />
                        </ComboBox>
                    </StackPanel>

                </Grid>
                <Grid x:Name="Listados">

                    <StackPanel>
                        <!--  Instructions when no type is selected  -->
                        <TextBlock
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            Text="Seleccione un tipo de cargo para continuar..."
                            Visibility="{x:Bind SelectedCargoType, Mode=OneWay, Converter={StaticResource CargoTypeToVisibilityConverter}, ConverterParameter='0'}" />

                        <!--  ContentControl for Refaccion Selector (lazy loaded)  -->
                        <ContentControl x:Name="RefaccionSelectorContainer" Visibility="{x:Bind SelectedCargoType, Mode=OneWay, Converter={StaticResource CargoTypeToVisibilityConverter}, ConverterParameter='1'}" />

                        <!--  ContentControl for Servicio Selector (lazy loaded)  -->
                        <ContentControl x:Name="ServicioSelectorContainer" Visibility="{x:Bind SelectedCargoType, Mode=OneWay, Converter={StaticResource CargoTypeToVisibilityConverter}, ConverterParameter='2'}" />

                    </StackPanel>
                </Grid>

                <!--  RefaccionesViewerPanel  -->
                <StackPanel
                    x:Name="RefaccionesViewerPanel"
                    Margin="0,12,0,0"
                    Visibility="Collapsed">
                    <Border
                        Padding="12"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="4">
                        <StackPanel Spacing="12">
                            <Grid>
                                <TextBlock
                                    FontSize="16"
                                    FontWeight="SemiBold"
                                    Text="Detalles de la Refacción" />
                                <Button
                                    HorizontalAlignment="Right"
                                    Click="CerrarVisorButton_Click"
                                    Content="Cerrar Visor" />
                            </Grid>
                            <ContentControl x:Name="RefaccionesViewerContainer" />
                        </StackPanel>
                    </Border>
                </StackPanel>


                <!--  Unitario (Costo unitario del cargo)  -->
                <StackPanel
                    x:Name="UnitarioPanel"
                    Margin="0,0,0,12"
                    Visibility="Collapsed">
                    <TextBlock
                        Margin="0,0,0,4"
                        FontWeight="SemiBold"
                        Text="Unitario:" />
                    <NumberBox
                        x:Name="UnitarioNumberBox"
                        AutomationProperties.Name="Costo unitario del cargo"
                        LargeChange="1"
                        Maximum="999999.99"
                        Minimum="0.01"
                        PlaceholderText="Ingrese costo unitario (mayor a 0)"
                        SmallChange="0.01"
                        SpinButtonPlacementMode="Compact" />
                </StackPanel>

                <!--  Nota  -->
                <StackPanel
                    x:Name="NotaPanel"
                    Margin="0,0,0,0"
                    Visibility="Collapsed">
                    <TextBlock
                        Margin="0,0,0,4"
                        FontWeight="SemiBold"
                        Text="Nota (opcional):" />
                    <TextBox
                        x:Name="NotaTextBox"
                        MinHeight="80"
                        MaxHeight="120"
                        AcceptsReturn="True"
                        PlaceholderText="Ingrese una nota (opcional)..."
                        TextWrapping="Wrap" />
                </StackPanel>


            </StackPanel>
        </ScrollViewer>





    </Grid>
</UserControl>
